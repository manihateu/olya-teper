(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[553],{4032:(e,s,l)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/[id]",function(){return l(9902)}])},9902:(e,s,l)=>{"use strict";l.r(s),l.d(s,{default:()=>t});var n=l(7876),r=l(9099),a=l(4232),d=l(3553),o=l(9811),c=l(6165);function t(){console.log(d.EA.workerSrc);let{id:e}=(0,r.useRouter)().query,[s,l]=(0,a.useState)(null),[t,i]=(0,a.useState)(null),[u,h]=(0,a.useState)(1);return((0,a.useEffect)(()=>{e&&fetch("/api/books/".concat(e)).then(e=>e.json()).then(e=>l(e))},[e]),s)?(0,n.jsxs)("div",{className:"container mx-auto p-4 m-2 rounded-2xl shadow-2xl flex flex-col items-center relative",children:[(0,n.jsx)("a",{className:"absolute top-3 left-3 rounded-full shadow-xl p-2 font-bold cursor-pointer",href:"/",children:"Назад"}),(0,n.jsx)("h1",{className:"text-2xl font-bold mb-4",children:s.title}),(0,n.jsxs)("p",{className:"mb-4",children:["Автор: ",s.author]}),s.pdfUrl&&(0,n.jsxs)("div",{children:[(0,n.jsx)(o.A,{file:s.pdfUrl,className:"w-full max-h-[800px] overflow-hidden",onLoadSuccess:function(e){let{numPages:s}=e;i(s)},children:(0,n.jsx)(c.A,{className:"max-h-[800px]",pageNumber:u})}),(0,n.jsxs)("div",{className:"",children:[(0,n.jsxs)("p",{children:["Страница ",u," из ",t]}),(0,n.jsx)("button",{onClick:()=>h(u-1),disabled:u<=1,className:"bg-gray-300 px-2 py-1 rounded mr-2",children:"Назад"}),(0,n.jsx)("button",{onClick:()=>h(u+1),disabled:u>=t,className:"bg-gray-300 px-2 py-1 rounded",children:"Вперед"})]})]})]}):(0,n.jsx)("p",{children:"Loading..."})}d.EA.workerSrc="//unpkg.com/pdfjs-dist@".concat(d.rE,"/build/pdf.worker.min.mjs")}},e=>{var s=s=>e(e.s=s);e.O(0,[233,285,636,593,792],()=>s(4032)),_N_E=e.O()}]);